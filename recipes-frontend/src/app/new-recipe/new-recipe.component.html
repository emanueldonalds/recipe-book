<div class="content">
    <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">
        <button class="btn-search input-group-text btn-dark" routerLink="/">Tillbaka</button>
        <div class="col-md-4 centered">

            <h1 class="mat-h1">Nytt recept</h1>

            <mat-form-field>
                <mat-label>Receptets namn</mat-label>
                <input matInput formControlName="name" required>
                <mat-error
                    *ngIf="recipeForm.controls.name.invalid && (recipeForm.controls.name.dirty || recipeForm.controls.name.touched)">
                    {{getNameErrorMessage()}}</mat-error>
            </mat-form-field>

            <div class="ingredients">
                <span class="input-heading mat-h3">Ingredienser</span>
                <div class="list">
                    <ul role="list">
                        <li *ngFor="let ingredient of ingredients" class="li mat-h3" role="listitem">
                            <a mat-button class="w-100" (click)="openEditDialog(ingredient)">
                                <span fxLayout="row">
                                    <div>
                                        {{ingredient.name}}
                                    </div>
                                    <div class="right-align">
                                        <span class="narrow"
                                            style="margin-right: 0.5rem;">{{ingredient?.quantity?.value}}</span>
                                        <span class="narrow">{{ingredient?.quantity?.unit}}</span>
                                    </div>
                                </span>
                            </a>
                        </li>
                        <li role="li mat-h3" role="listitem">
                            <a mat-button style="text-align:left" class="input-heading w-100 mat-h3"
                                (click)="openCreateDialog()">LÃ¤gg till ingrediens</a>
                        </li>
                    </ul>
                </div>
            </div>

            <mat-form-field>
                <mat-label>Instruktioner</mat-label>
                <textarea matInput formControlName="instructions" cdkTextareaAutosize></textarea>
                <mat-error
                    *ngIf="recipeForm.controls.instructions.invalid && (recipeForm.controls.instructions.dirty || recipeForm.controls.instructions.touched)">
                    {{getInstructionsErrorMessage()}}</mat-error>
            </mat-form-field>



        </div>

        <button class="ms-auto btn-search input-group-text btn-dark" type="submit">Spara nytt recept</button>
    </form>
</div>